#include <cstdint>
#include <unordered_map>
#include <string>
#include "irrString.h"
#include "Keycodes.h"

static std::unordered_map<uint32_t, const char *> irr_key_to_string_map{
	{0x0, "KEY_UNKNOWN"},
	{0x01, "KEY_LBUTTON"},
	{0x02, "KEY_RBUTTON"},
	{0x03, "KEY_CANCEL"},
	{0x04, "KEY_MBUTTON"},
	{0x05, "KEY_XBUTTON1"},
	{0x06, "KEY_XBUTTON2"},
	{0x08, "KEY_BACK"},
	{0x09, "KEY_TAB"},
	{0x0C, "KEY_CLEAR"},
	{0x0D, "KEY_RETURN"},
	{0x10, "KEY_SHIFT"},
	{0x11, "KEY_CONTROL"},
	{0x12, "KEY_MENU"},
	{0x13, "KEY_PAUSE"},
	{0x14, "KEY_CAPITAL"},
	{0x15, "KEY_KANA"},
	{0x15, "KEY_HANGUEL"},
	{0x15, "KEY_HANGUL"},
	{0x17, "KEY_JUNJA"},
	{0x18, "KEY_FINAL"},
	{0x19, "KEY_HANJA"},
	{0x19, "KEY_KANJI"},
	{0x1B, "KEY_ESCAPE"},
	{0x1C, "KEY_CONVERT"},
	{0x1D, "KEY_NONCONVERT"},
	{0x1E, "KEY_ACCEPT"},
	{0x1F, "KEY_MODECHANGE"},
	{0x20, "KEY_SPACE"},
	{0x21, "KEY_PRIOR"},
	{0x22, "KEY_NEXT"},
	{0x23, "KEY_END"},
	{0x24, "KEY_HOME"},
	{0x25, "KEY_LEFT"},
	{0x26, "KEY_UP"},
	{0x27, "KEY_RIGHT"},
	{0x28, "KEY_DOWN"},
	{0x29, "KEY_SELECT"},
	{0x2A, "KEY_PRINT"},
	{0x2B, "KEY_EXECUT"},
	{0x2C, "KEY_SNAPSHOT"},
	{0x2D, "KEY_INSERT"},
	{0x2E, "KEY_DELETE"},
	{0x2F, "KEY_HELP"},
	{0x30, "KEY_KEY_0"},
	{0x31, "KEY_KEY_1"},
	{0x32, "KEY_KEY_2"},
	{0x33, "KEY_KEY_3"},
	{0x34, "KEY_KEY_4"},
	{0x35, "KEY_KEY_5"},
	{0x36, "KEY_KEY_6"},
	{0x37, "KEY_KEY_7"},
	{0x38, "KEY_KEY_8"},
	{0x39, "KEY_KEY_9"},
	{0x41, "KEY_KEY_A"},
	{0x42, "KEY_KEY_B"},
	{0x43, "KEY_KEY_C"},
	{0x44, "KEY_KEY_D"},
	{0x45, "KEY_KEY_E"},
	{0x46, "KEY_KEY_F"},
	{0x47, "KEY_KEY_G"},
	{0x48, "KEY_KEY_H"},
	{0x49, "KEY_KEY_I"},
	{0x4A, "KEY_KEY_J"},
	{0x4B, "KEY_KEY_K"},
	{0x4C, "KEY_KEY_L"},
	{0x4D, "KEY_KEY_M"},
	{0x4E, "KEY_KEY_N"},
	{0x4F, "KEY_KEY_O"},
	{0x50, "KEY_KEY_P"},
	{0x51, "KEY_KEY_Q"},
	{0x52, "KEY_KEY_R"},
	{0x53, "KEY_KEY_S"},
	{0x54, "KEY_KEY_T"},
	{0x55, "KEY_KEY_U"},
	{0x56, "KEY_KEY_V"},
	{0x57, "KEY_KEY_W"},
	{0x58, "KEY_KEY_X"},
	{0x59, "KEY_KEY_Y"},
	{0x5A, "KEY_KEY_Z"},
	{0x5B, "KEY_LWIN"},
	{0x5C, "KEY_RWIN"},
	{0x5D, "KEY_APPS"},
	{0x5F, "KEY_SLEEP"},
	{0x60, "KEY_NUMPAD0"},
	{0x61, "KEY_NUMPAD1"},
	{0x62, "KEY_NUMPAD2"},
	{0x63, "KEY_NUMPAD3"},
	{0x64, "KEY_NUMPAD4"},
	{0x65, "KEY_NUMPAD5"},
	{0x66, "KEY_NUMPAD6"},
	{0x67, "KEY_NUMPAD7"},
	{0x68, "KEY_NUMPAD8"},
	{0x69, "KEY_NUMPAD9"},
	{0x6A, "KEY_MULTIPLY"},
	{0x6B, "KEY_ADD"},
	{0x6C, "KEY_SEPARATOR"},
	{0x6D, "KEY_SUBTRACT"},
	{0x6E, "KEY_DECIMAL"},
	{0x6F, "KEY_DIVIDE"},
	{0x70, "KEY_F1"},
	{0x71, "KEY_F2"},
	{0x72, "KEY_F3"},
	{0x73, "KEY_F4"},
	{0x74, "KEY_F5"},
	{0x75, "KEY_F6"},
	{0x76, "KEY_F7"},
	{0x77, "KEY_F8"},
	{0x78, "KEY_F9"},
	{0x79, "KEY_F10"},
	{0x7A, "KEY_F11"},
	{0x7B, "KEY_F12"},
	{0x7C, "KEY_F13"},
	{0x7D, "KEY_F14"},
	{0x7E, "KEY_F15"},
	{0x7F, "KEY_F16"},
	{0x80, "KEY_F17"},
	{0x81, "KEY_F18"},
	{0x82, "KEY_F19"},
	{0x83, "KEY_F20"},
	{0x84, "KEY_F21"},
	{0x85, "KEY_F22"},
	{0x86, "KEY_F23"},
	{0x87, "KEY_F24"},
	{0x90, "KEY_NUMLOCK"},
	{0x91, "KEY_SCROLL"},
	{0xA0, "KEY_LSHIFT"},
	{0xA1, "KEY_RSHIFT"},
	{0xA2, "KEY_LCONTROL"},
	{0xA3, "KEY_RCONTROL"},
	{0xA4, "KEY_LMENU"},
	{0xA5, "KEY_RMENU"},
	{0xA6, "KEY_BROWSER_BACK"},
	{0xA7, "KEY_BROWSER_FORWARD"},
	{0xA8, "KEY_BROWSER_REFRESH"},
	{0xA9, "KEY_BROWSER_STOP"},
	{0xAA, "KEY_BROWSER_SEARCH"},
	{0xAB, "KEY_BROWSER_FAVORITES"},
	{0xAC, "KEY_BROWSER_HOME"},
	{0xAD, "KEY_VOLUME_MUTE"},
	{0xAE, "KEY_VOLUME_DOWN"},
	{0xAF, "KEY_VOLUME_UP"},
	{0xB0, "KEY_MEDIA_NEXT_TRACK"},
	{0xB1, "KEY_MEDIA_PREV_TRACK"},
	{0xB2, "KEY_MEDIA_STOP"},
	{0xB3, "KEY_MEDIA_PLAY_PAUSE"},
	{0xBA, "KEY_OEM_1"},
	{0xBB, "KEY_PLUS"},
	{0xBC, "KEY_COMMA"},
	{0xBD, "KEY_MINUS"},
	{0xBE, "KEY_PERIOD"},
	{0xBF, "KEY_OEM_2"},
	{0xC0, "KEY_OEM_3"},
	{0xDB, "KEY_OEM_4"},
	{0xDC, "KEY_OEM_5"},
	{0xDD, "KEY_OEM_6"},
	{0xDE, "KEY_OEM_7"},
	{0xDF, "KEY_OEM_8"},
	{0xE1, "KEY_OEM_AX"},
	{0xE2, "KEY_OEM_102"},
	{0xF6, "KEY_ATTN"},
	{0xF7, "KEY_CRSEL"},
	{0xF8, "KEY_EXSEL"},
	{0xF9, "KEY_EREOF"},
	{0xFA, "KEY_PLAY"},
	{0xFB, "KEY_ZOOM"},
	{0xFD, "KEY_PA1"},
	{0xFE, "KEY_OEM_CLEAR"},
	{0xFF, "KEY_NONE"},
	{0x100, "KEY_KEY_CODES_COUNT"},
};

static std::unordered_map<uint32_t, const char *> sdl_key_to_string_map{
	{0x00000000u, "SDLK_UNKNOWN"},
	{0x0000000du, "SDLK_RETURN"},
	{0x0000001bu, "SDLK_ESCAPE"},
	{0x00000008u, "SDLK_BACKSPACE"},
	{0x00000009u, "SDLK_TAB"},
	{0x00000020u, "SDLK_SPACE"},
	{0x00000021u, "SDLK_EXCLAIM"},
	{0x00000022u, "SDLK_DBLAPOSTROPHE"},
	{0x00000023u, "SDLK_HASH"},
	{0x00000024u, "SDLK_DOLLAR"},
	{0x00000025u, "SDLK_PERCENT"},
	{0x00000026u, "SDLK_AMPERSAND"},
	{0x00000027u, "SDLK_APOSTROPHE"},
	{0x00000028u, "SDLK_LEFTPAREN"},
	{0x00000029u, "SDLK_RIGHTPAREN"},
	{0x0000002au, "SDLK_ASTERISK"},
	{0x0000002bu, "SDLK_PLUS"},
	{0x0000002cu, "SDLK_COMMA"},
	{0x0000002du, "SDLK_MINUS"},
	{0x0000002eu, "SDLK_PERIOD"},
	{0x0000002fu, "SDLK_SLASH"},
	{0x00000030u, "SDLK_0"},
	{0x00000031u, "SDLK_1"},
	{0x00000032u, "SDLK_2"},
	{0x00000033u, "SDLK_3"},
	{0x00000034u, "SDLK_4"},
	{0x00000035u, "SDLK_5"},
	{0x00000036u, "SDLK_6"},
	{0x00000037u, "SDLK_7"},
	{0x00000038u, "SDLK_8"},
	{0x00000039u, "SDLK_9"},
	{0x0000003au, "SDLK_COLON"},
	{0x0000003bu, "SDLK_SEMICOLON"},
	{0x0000003cu, "SDLK_LESS"},
	{0x0000003du, "SDLK_EQUALS"},
	{0x0000003eu, "SDLK_GREATER"},
	{0x0000003fu, "SDLK_QUESTION"},
	{0x00000040u, "SDLK_AT"},
	{0x00000041u, "SDLK_A"},
	{0x00000042u, "SDLK_B"},
	{0x00000043u, "SDLK_C"},
	{0x00000044u, "SDLK_D"},
	{0x00000045u, "SDLK_E"},
	{0x00000046u, "SDLK_F"},
	{0x00000047u, "SDLK_G"},
	{0x00000048u, "SDLK_H"},
	{0x00000049u, "SDLK_I"},
	{0x0000004au, "SDLK_J"},
	{0x0000004bu, "SDLK_K"},
	{0x0000004cu, "SDLK_L"},
	{0x0000004du, "SDLK_M"},
	{0x0000004eu, "SDLK_N"},
	{0x0000004fu, "SDLK_O"},
	{0x00000050u, "SDLK_P"},
	{0x00000051u, "SDLK_Q"},
	{0x00000052u, "SDLK_R"},
	{0x00000053u, "SDLK_S"},
	{0x00000054u, "SDLK_T"},
	{0x00000055u, "SDLK_U"},
	{0x00000056u, "SDLK_V"},
	{0x00000057u, "SDLK_W"},
	{0x00000058u, "SDLK_X"},
	{0x00000059u, "SDLK_Y"},
	{0x0000005au, "SDLK_Z"},
	{0x0000005bu, "SDLK_LEFTBRACKET"},
	{0x0000005cu, "SDLK_BACKSLASH"},
	{0x0000005du, "SDLK_RIGHTBRACKET"},
	{0x0000005eu, "SDLK_CARET"},
	{0x0000005fu, "SDLK_UNDERSCORE"},
	{0x00000060u, "SDLK_GRAVE"},
	{0x00000061u, "SDLK_a"},
	{0x00000062u, "SDLK_b"},
	{0x00000063u, "SDLK_c"},
	{0x00000064u, "SDLK_d"},
	{0x00000065u, "SDLK_e"},
	{0x00000066u, "SDLK_f"},
	{0x00000067u, "SDLK_g"},
	{0x00000068u, "SDLK_h"},
	{0x00000069u, "SDLK_i"},
	{0x0000006au, "SDLK_j"},
	{0x0000006bu, "SDLK_k"},
	{0x0000006cu, "SDLK_l"},
	{0x0000006du, "SDLK_m"},
	{0x0000006eu, "SDLK_n"},
	{0x0000006fu, "SDLK_o"},
	{0x00000070u, "SDLK_p"},
	{0x00000071u, "SDLK_q"},
	{0x00000072u, "SDLK_r"},
	{0x00000073u, "SDLK_s"},
	{0x00000074u, "SDLK_t"},
	{0x00000075u, "SDLK_u"},
	{0x00000076u, "SDLK_v"},
	{0x00000077u, "SDLK_w"},
	{0x00000078u, "SDLK_x"},
	{0x00000079u, "SDLK_y"},
	{0x0000007au, "SDLK_z"},
	{0x0000007bu, "SDLK_LEFTBRACE"},
	{0x0000007cu, "SDLK_PIPE"},
	{0x0000007du, "SDLK_RIGHTBRACE"},
	{0x0000007eu, "SDLK_TILDE"},
	{0x0000007fu, "SDLK_DELETE"},
	{0x40000039u, "SDLK_CAPSLOCK"},
	{0x4000003au, "SDLK_F1"},
	{0x4000003bu, "SDLK_F2"},
	{0x4000003cu, "SDLK_F3"},
	{0x4000003du, "SDLK_F4"},
	{0x4000003eu, "SDLK_F5"},
	{0x4000003fu, "SDLK_F6"},
	{0x40000040u, "SDLK_F7"},
	{0x40000041u, "SDLK_F8"},
	{0x40000042u, "SDLK_F9"},
	{0x40000043u, "SDLK_F10"},
	{0x40000044u, "SDLK_F11"},
	{0x40000045u, "SDLK_F12"},
	{0x40000046u, "SDLK_PRINTSCREEN"},
	{0x40000047u, "SDLK_SCROLLLOCK"},
	{0x40000048u, "SDLK_PAUSE"},
	{0x40000049u, "SDLK_INSERT"},
	{0x4000004au, "SDLK_HOME"},
	{0x4000004bu, "SDLK_PAGEUP"},
	{0x4000004du, "SDLK_END"},
	{0x4000004eu, "SDLK_PAGEDOWN"},
	{0x4000004fu, "SDLK_RIGHT"},
	{0x40000050u, "SDLK_LEFT"},
	{0x40000051u, "SDLK_DOWN"},
	{0x40000052u, "SDLK_UP"},
	{0x40000053u, "SDLK_NUMLOCKCLEAR"},
	{0x40000054u, "SDLK_KP_DIVIDE"},
	{0x40000055u, "SDLK_KP_MULTIPLY"},
	{0x40000056u, "SDLK_KP_MINUS"},
	{0x40000057u, "SDLK_KP_PLUS"},
	{0x40000058u, "SDLK_KP_ENTER"},
	{0x40000059u, "SDLK_KP_1"},
	{0x4000005au, "SDLK_KP_2"},
	{0x4000005bu, "SDLK_KP_3"},
	{0x4000005cu, "SDLK_KP_4"},
	{0x4000005du, "SDLK_KP_5"},
	{0x4000005eu, "SDLK_KP_6"},
	{0x4000005fu, "SDLK_KP_7"},
	{0x40000060u, "SDLK_KP_8"},
	{0x40000061u, "SDLK_KP_9"},
	{0x40000062u, "SDLK_KP_0"},
	{0x40000063u, "SDLK_KP_PERIOD"},
	{0x40000065u, "SDLK_APPLICATION"},
	{0x40000066u, "SDLK_POWER"},
	{0x40000067u, "SDLK_KP_EQUALS"},
	{0x40000068u, "SDLK_F13"},
	{0x40000069u, "SDLK_F14"},
	{0x4000006au, "SDLK_F15"},
	{0x4000006bu, "SDLK_F16"},
	{0x4000006cu, "SDLK_F17"},
	{0x4000006du, "SDLK_F18"},
	{0x4000006eu, "SDLK_F19"},
	{0x4000006fu, "SDLK_F20"},
	{0x40000070u, "SDLK_F21"},
	{0x40000071u, "SDLK_F22"},
	{0x40000072u, "SDLK_F23"},
	{0x40000073u, "SDLK_F24"},
	{0x40000074u, "SDLK_EXECUTE"},
	{0x40000075u, "SDLK_HELP"},
	{0x40000076u, "SDLK_MENU"},
	{0x40000077u, "SDLK_SELECT"},
	{0x40000078u, "SDLK_STOP"},
	{0x40000079u, "SDLK_AGAIN"},
	{0x4000007au, "SDLK_UNDO"},
	{0x4000007bu, "SDLK_CUT"},
	{0x4000007cu, "SDLK_COPY"},
	{0x4000007du, "SDLK_PASTE"},
	{0x4000007eu, "SDLK_FIND"},
	{0x4000007fu, "SDLK_MUTE"},
	{0x40000080u, "SDLK_VOLUMEUP"},
	{0x40000081u, "SDLK_VOLUMEDOWN"},
	{0x40000085u, "SDLK_KP_COMMA"},
	{0x40000086u, "SDLK_KP_EQUALSAS400"},
	{0x40000099u, "SDLK_ALTERASE"},
	{0x4000009au, "SDLK_SYSREQ"},
	{0x4000009bu, "SDLK_CANCEL"},
	{0x4000009cu, "SDLK_CLEAR"},
	{0x4000009du, "SDLK_PRIOR"},
	{0x4000009eu, "SDLK_RETURN2"},
	{0x4000009fu, "SDLK_SEPARATOR"},
	{0x400000a0u, "SDLK_OUT"},
	{0x400000a1u, "SDLK_OPER"},
	{0x400000a2u, "SDLK_CLEARAGAIN"},
	{0x400000a3u, "SDLK_CRSEL"},
	{0x400000a4u, "SDLK_EXSEL"},
	{0x400000b0u, "SDLK_KP_00"},
	{0x400000b1u, "SDLK_KP_000"},
	{0x400000b2u, "SDLK_THOUSANDSSEPARATOR"},
	{0x400000b3u, "SDLK_DECIMALSEPARATOR"},
	{0x400000b4u, "SDLK_CURRENCYUNIT"},
	{0x400000b5u, "SDLK_CURRENCYSUBUNIT"},
	{0x400000b6u, "SDLK_KP_LEFTPAREN"},
	{0x400000b7u, "SDLK_KP_RIGHTPAREN"},
	{0x400000b8u, "SDLK_KP_LEFTBRACE"},
	{0x400000b9u, "SDLK_KP_RIGHTBRACE"},
	{0x400000bau, "SDLK_KP_TAB"},
	{0x400000bbu, "SDLK_KP_BACKSPACE"},
	{0x400000bcu, "SDLK_KP_A"},
	{0x400000bdu, "SDLK_KP_B"},
	{0x400000beu, "SDLK_KP_C"},
	{0x400000bfu, "SDLK_KP_D"},
	{0x400000c0u, "SDLK_KP_E"},
	{0x400000c1u, "SDLK_KP_F"},
	{0x400000c2u, "SDLK_KP_XOR"},
	{0x400000c3u, "SDLK_KP_POWER"},
	{0x400000c4u, "SDLK_KP_PERCENT"},
	{0x400000c5u, "SDLK_KP_LESS"},
	{0x400000c6u, "SDLK_KP_GREATER"},
	{0x400000c7u, "SDLK_KP_AMPERSAND"},
	{0x400000c8u, "SDLK_KP_DBLAMPERSAND"},
	{0x400000c9u, "SDLK_KP_VERTICALBAR"},
	{0x400000cau, "SDLK_KP_DBLVERTICALBAR"},
	{0x400000cbu, "SDLK_KP_COLON"},
	{0x400000ccu, "SDLK_KP_HASH"},
	{0x400000cdu, "SDLK_KP_SPACE"},
	{0x400000ceu, "SDLK_KP_AT"},
	{0x400000cfu, "SDLK_KP_EXCLAM"},
	{0x400000d0u, "SDLK_KP_MEMSTORE"},
	{0x400000d1u, "SDLK_KP_MEMRECALL"},
	{0x400000d2u, "SDLK_KP_MEMCLEAR"},
	{0x400000d3u, "SDLK_KP_MEMADD"},
	{0x400000d4u, "SDLK_KP_MEMSUBTRACT"},
	{0x400000d5u, "SDLK_KP_MEMMULTIPLY"},
	{0x400000d6u, "SDLK_KP_MEMDIVIDE"},
	{0x400000d7u, "SDLK_KP_PLUSMINUS"},
	{0x400000d8u, "SDLK_KP_CLEAR"},
	{0x400000d9u, "SDLK_KP_CLEARENTRY"},
	{0x400000dau, "SDLK_KP_BINARY"},
	{0x400000dbu, "SDLK_KP_OCTAL"},
	{0x400000dcu, "SDLK_KP_DECIMAL"},
	{0x400000ddu, "SDLK_KP_HEXADECIMAL"},
	{0x400000e0u, "SDLK_LCTRL"},
	{0x400000e1u, "SDLK_LSHIFT"},
	{0x400000e2u, "SDLK_LALT"},
	{0x400000e3u, "SDLK_LGUI"},
	{0x400000e4u, "SDLK_RCTRL"},
	{0x400000e5u, "SDLK_RSHIFT"},
	{0x400000e6u, "SDLK_RALT"},
	{0x400000e7u, "SDLK_RGUI"},
	{0x40000101u, "SDLK_MODE"},
	{0x40000102u, "SDLK_SLEEP"},
	{0x40000103u, "SDLK_WAKE"},
	{0x40000104u, "SDLK_CHANNEL_INCREMENT"},
	{0x40000105u, "SDLK_CHANNEL_DECREMENT"},
	{0x40000106u, "SDLK_MEDIA_PLAY"},
	{0x40000107u, "SDLK_MEDIA_PAUSE"},
	{0x40000108u, "SDLK_MEDIA_RECORD"},
	{0x40000109u, "SDLK_MEDIA_FAST_FORWARD"},
	{0x4000010au, "SDLK_MEDIA_REWIND"},
	{0x4000010bu, "SDLK_MEDIA_NEXT_TRACK"},
	{0x4000010cu, "SDLK_MEDIA_PREVIOUS_TRACK"},
	{0x4000010du, "SDLK_MEDIA_STOP"},
	{0x4000010eu, "SDLK_MEDIA_EJECT"},
	{0x4000010fu, "SDLK_MEDIA_PLAY_PAUSE"},
	{0x40000110u, "SDLK_MEDIA_SELECT"},
	{0x40000111u, "SDLK_AC_NEW"},
	{0x40000112u, "SDLK_AC_OPEN"},
	{0x40000113u, "SDLK_AC_CLOSE"},
	{0x40000114u, "SDLK_AC_EXIT"},
	{0x40000115u, "SDLK_AC_SAVE"},
	{0x40000116u, "SDLK_AC_PRINT"},
	{0x40000117u, "SDLK_AC_PROPERTIES"},
	{0x40000118u, "SDLK_AC_SEARCH"},
	{0x40000119u, "SDLK_AC_HOME"},
	{0x4000011au, "SDLK_AC_BACK"},
	{0x4000011bu, "SDLK_AC_FORWARD"},
	{0x4000011cu, "SDLK_AC_STOP"},
	{0x4000011du, "SDLK_AC_REFRESH"},
	{0x4000011eu, "SDLK_AC_BOOKMARKS"},
	{0x4000011fu, "SDLK_SOFTLEFT"},
	{0x40000120u, "SDLK_SOFTRIGHT"},
	{0x40000121u, "SDLK_CALL"},
	{0x40000122u, "SDLK_ENDCALL"},
};

std::string irr_key_to_string(irr::EKEY_CODE irr_key)
{
	auto it = irr_key_to_string_map.find(irr_key);
	if (it != irr_key_to_string_map.end())
		return it->second;
	std::string hopefully_printable = wide_to_utf8(utf8_to_wide(std::string(1, irr_key)));
	return std::string("<unknown, if printable '").append(hopefully_printable).append("'>");
}

std::string sdl_key_to_string(uint32_t sdl_key)
{
	auto it = sdl_key_to_string_map.find(sdl_key);
	if (it != sdl_key_to_string_map.end())
		return it->second;
	std::string hopefully_printable = wide_to_utf8(utf8_to_wide(std::string(1, sdl_key)));
	return std::string("<unknown, if printable '").append(hopefully_printable).append("'>");
}
